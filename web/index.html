<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Optimize rendering -->
    <meta name="color-scheme" content="light dark" />
    <title>Saifin – Kreditkarten, Broker & Tagesgeld vergleichen</title>
    <meta name="description" content="Vergleiche Kreditkarten, Broker und Tagesgeld. Schnell, transparent, unabhängig." />
    <link rel="canonical" href="https://www.saifin.de/" />
    <meta name="robots" content="index,follow" />
    <meta property="og:site_name" content="Saifin" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Saifin – Kreditkarten, Broker & Tagesgeld vergleichen" />
    <meta property="og:description" content="Vergleiche Kreditkarten, Broker und Tagesgeld. Schnell, transparent, unabhängig." />
    <meta property="og:image" content="https://www.saifin.de/favicon.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1472" />
    <meta property="og:image:height" content="1472" />
    <meta property="og:image:alt" content="Saifin Logo" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Saifin – Kreditkarten, Broker & Tagesgeld vergleichen" />
    <meta name="twitter:description" content="Vergleiche Kreditkarten, Broker und Tagesgeld. Schnell, transparent, unabhängig." />
    <meta name="twitter:image" content="https://www.saifin.de/favicon.png" />
    <!-- Preload ONLY critical LCP hero image for mobile (most important) -->
    <link rel="preload" as="image" href="/images/landing-hero.webp" fetchpriority="high" imagesrcset="/images/landing-hero.webp" imagesizes="100vw" />
    <!-- Preload ONLY the 2 most critical fonts to reduce blocking time -->
    <link rel="preload" as="font" type="font/woff2" href="/fonts/inter/inter-400.woff2" crossorigin="anonymous">
    <link rel="preload" as="font" type="font/woff2" href="/fonts/cinzel/cinzel-800.woff2" crossorigin="anonymous">
    <!-- Prefetch likely next pages for faster navigation -->
    <link rel="prefetch" href="/kreditkarten" as="document">
    <link rel="prefetch" href="/broker" as="document">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Saifin",
      "url": "https://www.saifin.de",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.saifin.de/favicon.png",
        "width": 1472,
        "height": 1472
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Saifin",
      "url": "https://www.saifin.de",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.saifin.de/kreditkarten?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <!-- Optimize third-party connections - ONLY preconnect, not dns-prefetch for faster connection -->
    <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
    
    <!-- RADIKALE DNS-OPTIMIERUNG für Affiliate-Links - MAXIMALE GESCHWINDIGKEIT -->
    <!-- DNS-Prefetch für alle Affiliate-Domains -->
    <link rel="dns-prefetch" href="//www.financeads.net">
    <link rel="dns-prefetch" href="//financeads.net">
    <link rel="dns-prefetch" href="//www.hanseaticbank.de">
    <link rel="dns-prefetch" href="//www.tfbank.de">
    <link rel="dns-prefetch" href="//www.netkredit24.de">
    <link rel="dns-prefetch" href="//www.santander.de">
    <link rel="dns-prefetch" href="//www.consorsfinanz.de">
    <link rel="dns-prefetch" href="//www.1822direkt.de">
    <link rel="dns-prefetch" href="//www.extrakarte.de">
    <link rel="dns-prefetch" href="//www.captrader.de">
    <link rel="dns-prefetch" href="//www.smartbroker.de">
    <link rel="dns-prefetch" href="//www.fidelity.de">
    <link rel="dns-prefetch" href="//www.brokerpoint.de">
    <link rel="dns-prefetch" href="//www.finanzen.net">
    <link rel="dns-prefetch" href="//www.fonds-super-markt.de">
    <link rel="dns-prefetch" href="//www.quirion.de">
    <link rel="dns-prefetch" href="//www.etoro.com">
    <link rel="dns-prefetch" href="//www.pbb-direkt.de">
    <link rel="dns-prefetch" href="//www.distingo.de">
    <link rel="dns-prefetch" href="//www.raisin.com">
    <link rel="dns-prefetch" href="//www.jt-direktbank.de">
    <link rel="dns-prefetch" href="//www.comdirect.de">
    
    <!-- Preconnect für kritische Affiliate-Domains - SOFORTIGE VERBINDUNG -->
    <link rel="preconnect" href="https://www.financeads.net" crossorigin>
    <link rel="preconnect" href="https://www.hanseaticbank.de" crossorigin>
    <link rel="preconnect" href="https://www.tfbank.de" crossorigin>
    <link rel="preconnect" href="https://www.captrader.de" crossorigin>
    <link rel="preconnect" href="https://www.smartbroker.de" crossorigin>
    <link rel="preconnect" href="https://www.pbb-direkt.de" crossorigin>
    <link rel="preconnect" href="https://www.raisin.com" crossorigin>
    
    <!-- Defer tracking connections until after page load -->
    <!-- <link rel="dns-prefetch" href="https://connect.facebook.net">
    <link rel="dns-prefetch" href="https://analytics.tiktok.com"> -->
    <!-- Inline critical font-face declarations to avoid render-blocking -->
    <style>
      @font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url('/fonts/inter/inter-400.woff2') format('woff2')}
      @font-face{font-family:'Cinzel';font-style:normal;font-weight:800;font-display:swap;src:url('/fonts/cinzel/cinzel-800.woff2') format('woff2')}
    </style>
    <!-- Load non-critical fonts and icons async -->
    <link rel="stylesheet" href="/fonts/fonts.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="/fonts/icons.css" media="print" onload="this.media='all'">
    <style>
      /* Critical CSS - Above the fold styles only */
      :root {
        font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.6;
        font-weight: 400;
        --saifin-navy-900: #141833;
        --saifin-navy-800: #151934;
        --saifin-navy-700: #131732;
        --saifin-navy-600: #1b2248;
        --saifin-navy-500: #2a3966;
        --saifin-accent-600: #2ea7c9;
        --saifin-accent-500: #56b4d3;
        --background: #ffffff;
        --text: #111827;
        --muted-text: #4b5563;
        --subtle-text: #6b7280;
        --surface: #ffffff;
        --surface-muted: #f7f9fc;
        --border: rgba(11,31,58,0.08);
        --shadow-color: rgba(11,31,58,0.08);
        --brand-primary: var(--saifin-navy-900);
        --brand-primary-contrast: #e4e2e3;
        --brand-accent: var(--saifin-accent-500);
        color: var(--text);
        background-color: var(--background);
      }
      * { box-sizing: border-box; }
      body { margin: 0; min-width: 320px; min-height: 100vh; }
      #app { max-width: none; margin: 0; padding: 0; text-align: initial; }
      
      /* Critical header styles */
      .site-header {
        background: var(--brand-primary);
        color: var(--brand-primary-contrast);
        padding: 12px 0;
        position: sticky;
        top: 0;
        z-index: 100;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 16px;
      }
      .header-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .brand {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: inherit;
      }
      .brand-mark {
        display: flex;
        align-items: center;
      }
      .brand-logo-img {
        height: 32px;
        width: auto;
      }
      
      /* Critical hero styles - OPTIMIZED for LCP & CLS */
      .hero {
        height: clamp(420px, 62vh, 640px);
        min-height: 420px;
        position: relative;
        overflow: hidden;
        contain: layout style paint;
      }
      .hero-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        content-visibility: auto;
        aspect-ratio: 16/9;
      }
      .hero-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(20,24,51,0.7) 0%, rgba(20,24,51,0.4) 100%);
      }
      .hero-content {
        position: absolute;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: white;
        padding: 48px 16px;
      }
      .hero-title {
        font-family: 'Cinzel', ui-serif, Georgia, 'Times New Roman', serif;
        font-weight: 800;
        font-size: clamp(2rem, 5vw, 3.5rem);
        line-height: 1.1;
        margin: 0 0 16px;
        letter-spacing: -0.01em;
      }
      .hero-title-line {
        display: block;
      }
      .hero-sub {
        font-size: clamp(1rem, 2.5vw, 1.25rem);
        margin: 0 0 32px;
        opacity: 0.9;
        max-width: 600px;
      }
      .hero-cta-group {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
      }
      
      /* Critical button styles */
      .p-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: var(--brand-primary);
        border: 1px solid var(--brand-primary);
        color: var(--brand-primary-contrast);
        padding: 12px 24px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.15s ease;
      }
      .p-button:hover {
        background: var(--saifin-navy-700);
        border-color: var(--saifin-navy-700);
        transform: translateY(-1px);
      }
      .p-button-lg {
        padding: 16px 32px;
        font-size: 1.1rem;
      }
      .p-button-rounded {
        border-radius: 12px;
      }
      .p-button-raised {
        box-shadow: 0 8px 24px var(--shadow-color);
      }
      
      /* Navigation */
      .site-nav {
        display: flex;
        gap: 24px;
        align-items: center;
      }
      .nav-link {
        color: var(--brand-primary-contrast);
        text-decoration: none;
        font-weight: 500;
        padding: 8px 0;
        transition: opacity 0.15s ease;
      }
      .nav-link:hover {
        opacity: 0.8;
      }
      
      /* Mobile navigation */
      .nav-toggle {
        display: none;
        background: none;
        border: none;
        color: var(--brand-primary-contrast);
        font-size: 1.5rem;
        cursor: pointer;
      }
      
      @media (max-width: 768px) {
        .nav-toggle { display: block; }
        .site-nav { display: none; }
        .site-nav.is-open { display: flex; flex-direction: column; position: absolute; top: 100%; left: 0; right: 0; background: var(--brand-primary); padding: 16px; }
      }
    </style>
    <noscript><link rel="stylesheet" href="/fonts/fonts.css"></noscript>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
    <!-- Service Worker Registration (heavily deferred - after interaction) -->
    <script>
      if ('serviceWorker' in navigator && 'requestIdleCallback' in window) {
        // Only register SW on interaction or after 5s idle to avoid blocking
        const registerSW = () => {
          requestIdleCallback(() => {
            navigator.serviceWorker.register('/sw.js').catch(() => {});
          }, { timeout: 5000 });
        };
        
        // Defer until user interaction
        ['click', 'scroll', 'keydown'].forEach(event => {
          document.addEventListener(event, registerSW, { once: true, passive: true });
        });
        
        // Fallback: register after 5s
        setTimeout(registerSW, 5000);
      }
    </script>
    
    <!-- Cookie Consent & Tracking Scripts (nur bei Zustimmung) -->
    <script>
      (function(){
        // Cookie-Consent-Hilfsfunktionen
        function getConsentStatus() {
          try {
            const stored = localStorage.getItem('cookie-consent');
            if (!stored) return 'pending';
            const parsed = JSON.parse(stored);
            return parsed.status || 'pending';
          } catch (_) {
            return 'pending';
          }
        }
        
        function getCookiePreferences() {
          try {
            const stored = localStorage.getItem('cookie-consent');
            if (!stored) return { analytics: false, marketing: false };
            const parsed = JSON.parse(stored);
            return parsed.preferences || { analytics: false, marketing: false };
          } catch (_) {
            return { analytics: false, marketing: false };
          }
        }
        
        function isMarketingAllowed() {
          const status = getConsentStatus();
          if (status === 'accepted') return true;
          if (status === 'rejected') return false;
          if (status === 'custom') {
            const prefs = getCookiePreferences();
            return prefs.marketing || false;
          }
          return false;
        }
        
        function isAnalyticsAllowed() {
          const status = getConsentStatus();
          if (status === 'accepted') return true;
          if (status === 'rejected') return false;
          if (status === 'custom') {
            const prefs = getCookiePreferences();
            return prefs.analytics || false;
          }
          return false;
        }
        
        // Meta Pixel Code (nur bei Marketing-Consent)
        let pixelInitialized = false;
        let pixelLoading = false;
        
        function initMetaPixel(){
          if (!isMarketingAllowed()) return;
          if (pixelInitialized || pixelLoading || (window.fbq && window.fbq.loaded)) {
            return;
          }
          
          pixelLoading = true;
          
          !function(f,b,e,v,n,t,s)
          {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
          n.callMethod.apply(n,arguments):n.queue.push(arguments)};
          if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
          n.queue=[];t=b.createElement(e);t.async=!0;
          t.src=v;s=b.getElementsByTagName(e)[0];
          s.parentNode.insertBefore(t,s)}(window, document,'script',
          'https://connect.facebook.net/en_US/fbevents.js');
          
          if (window.fbq && !window.fbq.loaded) {
            window.fbq.queue = window.fbq.queue || [];
          }
          
          if (!window.fbq || !window.fbq._i || !window.fbq._i['704761698638212']) {
            if (window.fbq) {
              window.fbq('init', '704761698638212');
              window.fbq('track', 'PageView');
            }
          }
          
          pixelInitialized = true;
          pixelLoading = false;
        }
        
        // TikTok Pixel Code (nur bei Marketing-Consent)
        let tiktokInitialized = false;
        let tiktokLoading = false;
        const TIKTOK_PIXEL_ID = 'D314FPBC77U0B8UM6A9G';
        
        function initTikTok(){
          if (!isMarketingAllowed()) return;
          if (tiktokInitialized || tiktokLoading) {
            return;
          }
          
          if (window.ttq && window.ttq._i && window.ttq._i[TIKTOK_PIXEL_ID]) {
            tiktokInitialized = true;
            return;
          }
          
          tiktokLoading = true;
          
          !function (w, d, t) {
            w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
            var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
            ;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};
            
            if (!ttq._i || !ttq._i[TIKTOK_PIXEL_ID]) {
              ttq.load(TIKTOK_PIXEL_ID);
              ttq.page();
            }
          }(window, document, 'ttq');
          
          tiktokInitialized = true;
          tiktokLoading = false;
        }
        
        // Vercel Analytics (nur bei Analytics-Consent)
        function initVercelAnalytics() {
          if (!isAnalyticsAllowed()) {
            // Mock-Funktion für Development
            window.va = window.va || function(){var q=window.va.q=window.va.q||[];q.push(arguments)};
            return;
          }
          
          const isProduction = window.location.hostname !== 'localhost' && 
                              window.location.hostname !== '127.0.0.1' &&
                              !window.location.hostname.startsWith('192.168.') &&
                              !window.location.hostname.startsWith('10.') &&
                              window.location.protocol === 'https:';
          
          if (isProduction) {
            !function(){var e=window,t=e.va||(e.va=function(){e.va.q?e.va.q.push(arguments):e.va.q=[arguments]})}();
            window.va('beforeSend',function(e){e.url.startsWith('/_vercel')&&(e.url='/')});
            (function(){var script=document.createElement('script');script.src='https://va.vercel-scripts.com/v1/script.js';script.defer=true;script.setAttribute('data-api','/_vercel/insights/event');document.head.appendChild(script);})();
          } else {
            window.va = window.va || function(){var q=window.va.q=window.va.q||[];q.push(arguments)};
            console.debug('Vercel Analytics deaktiviert (Development-Modus)');
          }
        }
        
        // Lade Tracking-Skripte wenn Consent bereits gegeben wurde
        function loadTrackingIfConsented() {
          if (isMarketingAllowed()) {
            if ('requestIdleCallback' in window) {
              requestIdleCallback(() => {
                initMetaPixel();
                initTikTok();
              }, { timeout: 1000 });
            } else {
              setTimeout(() => {
                initMetaPixel();
                initTikTok();
              }, 1000);
            }
          }
          
          if (isAnalyticsAllowed()) {
            initVercelAnalytics();
          }
        }
        
        // Prüfe sofort bei Seitenladung
        loadTrackingIfConsented();
        
        // Lade bei Consent-Event (vom Cookie-Banner)
        window.addEventListener('cookie-consent-accepted', () => {
          loadTrackingIfConsented();
        });
        
        // Lade bei Consent-Änderung
        window.addEventListener('cookie-consent-changed', () => {
          loadTrackingIfConsented();
        });
      })();
    </script>
    <!-- noscript-Tag entfernt: Tracking nur nach Cookie-Consent (DSGVO-konform) -->
  </body>
</html>
